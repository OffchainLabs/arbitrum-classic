<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: UmlClassDiagram Pages: 1 -->
<svg width="5714pt" height="2018pt"
 viewBox="0.00 0.00 5714.05 2018.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 2014)">
<title>UmlClassDiagram</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-2014 5710.0461,-2014 5710.0461,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="971.7329,-1157.9 971.7329,-1299.5 1270.3887,-1299.5 1270.3887,-1157.9 971.7329,-1157.9"/>
<text text-anchor="middle" x="1121.0608" y="-1282.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="1121.0608" y="-1266.1" font-family="Times,serif" font-size="14.00" fill="#000000">IArbToken</text>
<polyline fill="none" stroke="#000000" points="971.7329,-1257.9 1270.3887,-1257.9 "/>
<text text-anchor="middle" x="1121.0608" y="-1241.3" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="971.7329,-1233.1 1270.3887,-1233.1 "/>
<text text-anchor="start" x="979.7329" y="-1216.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="979.7329" y="-1199.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;bridgeMint(account: address, amount: uint256)</text>
<text text-anchor="start" x="979.7329" y="-1182.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;bridgeBurn(account: address, amount: uint256)</text>
<text text-anchor="start" x="979.7329" y="-1166.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;l1Address(): address</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<polygon fill="#f2f2f2" stroke="#000000" points="637.4829,-718.9 637.4829,-910.9 932.6387,-910.9 932.6387,-718.9 637.4829,-718.9"/>
<text text-anchor="middle" x="785.0608" y="-894.3" font-family="Times,serif" font-size="14.00" fill="#000000">StandardArbERC20</text>
<polyline fill="none" stroke="#000000" points="637.4829,-886.1 932.6387,-886.1 "/>
<text text-anchor="start" x="645.4829" y="-869.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="645.4829" y="-852.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;gatewayAddress: address</text>
<text text-anchor="start" x="645.4829" y="-835.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;l1Address: address</text>
<polyline fill="none" stroke="#000000" points="637.4829,-827.7 932.6387,-827.7 "/>
<text text-anchor="start" x="645.4829" y="-811.1" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="645.4829" y="-794.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;bridgeMint(account: address, amount: uint256)</text>
<text text-anchor="start" x="645.4829" y="-777.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;bridgeBurn(account: address, amount: uint256)</text>
<text text-anchor="start" x="645.4829" y="-760.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="645.4829" y="-743.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyGateway()</text>
<text text-anchor="start" x="645.4829" y="-727.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;bridgeInit(_l1Address: address, _data: bytes)</text>
</g>
<!-- 1&#45;&gt;0 -->
<g id="edge2" class="edge">
<title>1&#45;&gt;0</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M863.2021,-911.1347C917.77,-978.3377 990.2601,-1067.6127 1044.4816,-1134.3891"/>
<polygon fill="none" stroke="#000000" points="1036.5025,-1141.2199 1063.5644,-1157.8904 1052.805,-1127.9824 1036.5025,-1141.2199"/>
</g>
<!-- 15 -->
<g id="node16" class="node">
<title>15</title>
<polygon fill="#f2f2f2" stroke="#000000" points="290.0562,-1166.3 290.0562,-1291.1 598.0654,-1291.1 598.0654,-1166.3 290.0562,-1166.3"/>
<text text-anchor="middle" x="444.0608" y="-1274.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Library&gt;&gt;</text>
<text text-anchor="middle" x="444.0608" y="-1257.7" font-family="Times,serif" font-size="14.00" fill="#000000">BytesParserWithDefault</text>
<polyline fill="none" stroke="#000000" points="290.0562,-1249.5 598.0654,-1249.5 "/>
<text text-anchor="middle" x="444.0608" y="-1232.9" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="290.0562,-1224.7 598.0654,-1224.7 "/>
<text text-anchor="start" x="298.0562" y="-1208.1" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="298.0562" y="-1191.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;toUint8(input: bytes, defaultValue: uint8): uint8</text>
<text text-anchor="start" x="298.0562" y="-1174.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;toString(input: bytes, defaultValue: string): string</text>
</g>
<!-- 1&#45;&gt;15 -->
<g id="edge3" class="edge">
<title>1&#45;&gt;15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M705.7567,-911.1347C643.5465,-986.6262 558.3841,-1089.9699 502.3338,-1157.9863"/>
<polygon fill="#000000" stroke="#000000" points="499.3048,-1156.1584 495.6463,-1166.1016 504.7069,-1160.6102 499.3048,-1156.1584"/>
</g>
<!-- 23 -->
<g id="node24" class="node">
<title>23</title>
<polygon fill="#f2f2f2" stroke="#000000" points="615.8907,-1183.1 615.8907,-1274.3 954.2309,-1274.3 954.2309,-1183.1 615.8907,-1183.1"/>
<text text-anchor="middle" x="785.0608" y="-1257.7" font-family="Times,serif" font-size="14.00" fill="#000000">aeERC20</text>
<polyline fill="none" stroke="#000000" points="615.8907,-1249.5 954.2309,-1249.5 "/>
<text text-anchor="middle" x="785.0608" y="-1232.9" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="615.8907,-1224.7 954.2309,-1224.7 "/>
<text text-anchor="start" x="623.8907" y="-1208.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="623.8907" y="-1191.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;initialize(name: string, symbol: string, decimals: uint8)</text>
</g>
<!-- 1&#45;&gt;23 -->
<g id="edge1" class="edge">
<title>1&#45;&gt;23</title>
<path fill="none" stroke="#000000" d="M785.0608,-911.1347C785.0608,-984.7653 785.0608,-1084.892 785.0608,-1152.8931"/>
<polygon fill="none" stroke="#000000" points="774.5609,-1152.9943 785.0608,-1182.9944 795.5609,-1152.9944 774.5609,-1152.9943"/>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1056.2703,-626.5 1056.2703,-1003.3 2045.8513,-1003.3 2045.8513,-626.5 1056.2703,-626.5"/>
<text text-anchor="middle" x="1551.0608" y="-986.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="1551.0608" y="-969.9" font-family="Times,serif" font-size="14.00" fill="#000000">L2ArbitrumGateway</text>
<polyline fill="none" stroke="#000000" points="1056.2703,-961.7 2045.8513,-961.7 "/>
<text text-anchor="start" x="1064.2703" y="-945.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="1064.2703" y="-928.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;exitNum: uint256</text>
<polyline fill="none" stroke="#000000" points="1056.2703,-920.1 2045.8513,-920.1 "/>
<text text-anchor="start" x="1064.2703" y="-903.5" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="1064.2703" y="-886.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;abstract&gt;&gt; handleNoContract(_l1Token: address, expectedL2Address: address, _from: address, _to: address, _amount: uint256, gatewayData: bytes): (shouldHalt: bool)</text>
<text text-anchor="start" x="1064.2703" y="-869.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isSenderCounterpartGateway(): bool</text>
<text text-anchor="start" x="1064.2703" y="-853.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_initialize(_l1Counterpart: address, _router: address)</text>
<text text-anchor="start" x="1064.2703" y="-836.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;createOutboundTx(_l1Token: address, _from: address, _to: address, _amount: uint256, _extraData: bytes): uint256</text>
<text text-anchor="start" x="1064.2703" y="-819.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;sendTxToL1(_from: address, _l1CallValue: uint256, _data: bytes): uint256</text>
<text text-anchor="start" x="1064.2703" y="-802.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;outboundEscrowTransfer(_l2Token: address, _from: address, _amount: uint256)</text>
<text text-anchor="start" x="1064.2703" y="-785.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;parseOutboundData(_data: bytes): (_from: address, _extraData: bytes)</text>
<text text-anchor="start" x="1064.2703" y="-769.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;inboundEscrowTransfer(_l2Address: address, _dest: address, _amount: uint256)</text>
<text text-anchor="start" x="1064.2703" y="-752.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isSenderRouter(): bool</text>
<text text-anchor="start" x="1064.2703" y="-735.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="1064.2703" y="-718.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;payable&gt;&gt; finalizeInboundTransfer(_token: address, _from: address, _to: address, _amount: uint256, _data: bytes): bytes</text>
<text text-anchor="start" x="1064.2703" y="-701.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="1064.2703" y="-685.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;payable&gt;&gt; outboundTransfer(_l1Token: address, _to: address, _amount: uint256, _data: bytes): bytes</text>
<text text-anchor="start" x="1064.2703" y="-668.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;payable&gt;&gt; outboundTransfer(_l1Token: address, _to: address, _amount: uint256, _maxGas: uint256, _gasPriceBid: uint256, _data: bytes): bytes</text>
<text text-anchor="start" x="1064.2703" y="-651.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;gasReserveIfCallRevert(): uint256</text>
<text text-anchor="start" x="1064.2703" y="-634.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getOutboundCalldata(_token: address, _from: address, _to: address, _amount: uint256, _data: bytes): (outboundCalldata: bytes)</text>
</g>
<!-- 2&#45;&gt;0 -->
<g id="edge6" class="edge">
<title>2&#45;&gt;0</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1317.0611,-1003.5303C1303.9852,-1015.5615 1291.2267,-1027.7028 1279.0608,-1039.8 1244.674,-1073.9925 1209.7427,-1114.9673 1181.4994,-1150.0026"/>
<polygon fill="#000000" stroke="#000000" points="1178.7362,-1147.8538 1175.2092,-1157.8443 1184.1966,-1152.2338 1178.7362,-1147.8538"/>
</g>
<!-- 24 -->
<g id="node25" class="node">
<title>24</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1831.6866,-1107.5 1831.6866,-1349.9 2686.435,-1349.9 2686.435,-1107.5 1831.6866,-1107.5"/>
<text text-anchor="middle" x="2259.0608" y="-1333.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="2259.0608" y="-1316.5" font-family="Times,serif" font-size="14.00" fill="#000000">ArbitrumGateway</text>
<polyline fill="none" stroke="#000000" points="1831.6866,-1308.3 2686.435,-1308.3 "/>
<text text-anchor="middle" x="2259.0608" y="-1291.7" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="1831.6866,-1283.5 2686.435,-1283.5 "/>
<text text-anchor="start" x="1839.6866" y="-1266.9" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="1839.6866" y="-1250.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;abstract&gt;&gt; inboundEscrowTransfer(_l2Address: address, _dest: address, _amount: uint256)</text>
<text text-anchor="start" x="1839.6866" y="-1233.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_initialize(_counterpartGateway: address, _router: address)</text>
<text text-anchor="start" x="1839.6866" y="-1216.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="1839.6866" y="-1199.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;abstract&gt;&gt; outboundTransfer(_l1Token: address, _to: address, _amount: uint256, _maxGas: uint256, _gasPriceBid: uint256, _data: bytes): bytes</text>
<text text-anchor="start" x="1839.6866" y="-1182.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;abstract&gt;&gt; finalizeInboundTransfer(_token: address, _from: address, _to: address, _amount: uint256, _data: bytes): bytes</text>
<text text-anchor="start" x="1839.6866" y="-1166.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;inboundEscrowAndCall(_l2Address: address, _amount: uint256, _from: address, _to: address, _data: bytes)</text>
<text text-anchor="start" x="1839.6866" y="-1149.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="1839.6866" y="-1132.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;abstract&gt;&gt; gasReserveIfCallRevert(): uint256</text>
<text text-anchor="start" x="1839.6866" y="-1115.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; TransferAndCallTriggered(success: bool, _from: address, _to: address, _amount: uint256, callHookData: bytes)</text>
</g>
<!-- 2&#45;&gt;24 -->
<g id="edge5" class="edge">
<title>2&#45;&gt;24</title>
<path fill="none" stroke="#000000" d="M1873.4664,-1003.3342C1924.7481,-1033.3065 1976.9212,-1063.7998 2025.6349,-1092.2711"/>
<polygon fill="none" stroke="#000000" points="2020.3404,-1101.3385 2051.5393,-1107.4113 2030.937,-1083.2081 2020.3404,-1101.3385"/>
</g>
<!-- 26 -->
<g id="node27" class="node">
<title>26</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1288.1943,-1149.5 1288.1943,-1307.9 1813.9273,-1307.9 1813.9273,-1149.5 1288.1943,-1149.5"/>
<text text-anchor="middle" x="1551.0608" y="-1291.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="1551.0608" y="-1274.5" font-family="Times,serif" font-size="14.00" fill="#000000">L2ArbitrumMessenger</text>
<polyline fill="none" stroke="#000000" points="1288.1943,-1266.3 1813.9273,-1266.3 "/>
<text text-anchor="start" x="1296.1943" y="-1249.7" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="1296.1943" y="-1232.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;arbsysAddr: address</text>
<polyline fill="none" stroke="#000000" points="1288.1943,-1224.7 1813.9273,-1224.7 "/>
<text text-anchor="start" x="1296.1943" y="-1208.1" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="1296.1943" y="-1191.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;sendTxToL1(_l1CallValue: uint256, _from: address, _to: address, _data: bytes): uint256</text>
<text text-anchor="start" x="1296.1943" y="-1174.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="1296.1943" y="-1157.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; TxToL1(_from: address, _to: address, _id: uint256, _data: bytes)</text>
</g>
<!-- 2&#45;&gt;26 -->
<g id="edge4" class="edge">
<title>2&#45;&gt;26</title>
<path fill="none" stroke="#000000" d="M1551.0608,-1003.3342C1551.0608,-1042.9977 1551.0608,-1083.5735 1551.0608,-1119.1686"/>
<polygon fill="none" stroke="#000000" points="1540.5609,-1119.3346 1551.0608,-1149.3346 1561.5609,-1119.3346 1540.5609,-1119.3346"/>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1095.5746,-338.7 1095.5746,-547.5 2006.547,-547.5 2006.547,-338.7 1095.5746,-338.7"/>
<text text-anchor="middle" x="1551.0608" y="-530.9" font-family="Times,serif" font-size="14.00" fill="#000000">L2CustomGateway</text>
<polyline fill="none" stroke="#000000" points="1095.5746,-522.7 2006.547,-522.7 "/>
<text text-anchor="start" x="1103.5746" y="-506.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="1103.5746" y="-489.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;l1ToL2Token: mapping(address=&gt;address)</text>
<polyline fill="none" stroke="#000000" points="1095.5746,-481.1 2006.547,-481.1 "/>
<text text-anchor="start" x="1103.5746" y="-464.5" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="1103.5746" y="-447.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;handleNoContract(_l1Token: address, expectedL2Address: address, _from: address, _to: address, _amount: uint256, gatewayData: bytes): (shouldHalt: bool)</text>
<text text-anchor="start" x="1103.5746" y="-430.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_calculateL2TokenAddress(l1ERC20: address): address</text>
<text text-anchor="start" x="1103.5746" y="-414.1" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="1103.5746" y="-397.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;calculateL2TokenAddress(l1ERC20: address): address</text>
<text text-anchor="start" x="1103.5746" y="-380.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;registerTokenFromL1(l1Address: address, l2Address: address)</text>
<text text-anchor="start" x="1103.5746" y="-363.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="1103.5746" y="-346.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;initialize(_l1Counterpart: address, _router: address)</text>
</g>
<!-- 3&#45;&gt;2 -->
<g id="edge7" class="edge">
<title>3&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M1551.0608,-547.6565C1551.0608,-563.0269 1551.0608,-579.3215 1551.0608,-595.9816"/>
<polygon fill="none" stroke="#000000" points="1540.5609,-596.2439 1551.0608,-626.244 1561.5609,-596.244 1540.5609,-596.2439"/>
</g>
<!-- 4 -->
<g id="node5" class="node">
<title>4</title>
<polygon fill="#f2f2f2" stroke="#000000" points="176.6132,-321.9 176.6132,-564.3 1077.5084,-564.3 1077.5084,-321.9 176.6132,-321.9"/>
<text text-anchor="middle" x="627.0608" y="-547.7" font-family="Times,serif" font-size="14.00" fill="#000000">L2ERC20Gateway</text>
<polyline fill="none" stroke="#000000" points="176.6132,-539.5 1077.5084,-539.5 "/>
<text text-anchor="start" x="184.6132" y="-522.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="184.6132" y="-506.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;beaconProxyFactory: address</text>
<polyline fill="none" stroke="#000000" points="176.6132,-497.9 1077.5084,-497.9 "/>
<text text-anchor="start" x="184.6132" y="-481.3" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="184.6132" y="-464.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_calculateL2TokenAddress(l1ERC20: address): address</text>
<text text-anchor="start" x="184.6132" y="-447.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;handleNoContract(l1ERC20: address, expectedL2Address: address, _from: address, _to: address, _amount: uint256, deployData: bytes): (shouldHalt: bool)</text>
<text text-anchor="start" x="184.6132" y="-430.9" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="184.6132" y="-414.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;postUpgradeInit(_beaconProxyFactory: address)</text>
<text text-anchor="start" x="184.6132" y="-397.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;calculateL2TokenAddress(l1ERC20: address): address</text>
<text text-anchor="start" x="184.6132" y="-380.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="184.6132" y="-363.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;initialize(_l1Counterpart: address, _router: address, _beaconProxyFactory: address)</text>
<text text-anchor="start" x="184.6132" y="-346.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;cloneableProxyHash(): bytes32</text>
<text text-anchor="start" x="184.6132" y="-330.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getUserSalt(l1ERC20: address): bytes32</text>
</g>
<!-- 4&#45;&gt;1 -->
<g id="edge10" class="edge">
<title>4&#45;&gt;1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M678.5773,-564.3268C698.5023,-611.2135 721.0919,-664.3706 740.3222,-709.6226"/>
<polygon fill="#000000" stroke="#000000" points="737.1145,-711.0236 744.2469,-718.8582 743.557,-708.2858 737.1145,-711.0236"/>
</g>
<!-- 4&#45;&gt;2 -->
<g id="edge8" class="edge">
<title>4&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M928.3344,-564.3268C969.0402,-580.706 1011.6477,-597.8504 1054.655,-615.1558"/>
<polygon fill="none" stroke="#000000" points="1050.8332,-624.936 1082.5842,-626.3939 1058.6724,-605.4541 1050.8332,-624.936"/>
</g>
<!-- 18 -->
<g id="node19" class="node">
<title>18</title>
<polygon fill="#f2f2f2" stroke="#000000" points="0,-710.5 0,-919.3 412.1216,-919.3 412.1216,-710.5 0,-710.5"/>
<text text-anchor="middle" x="206.0608" y="-902.7" font-family="Times,serif" font-size="14.00" fill="#000000">BeaconProxyFactory</text>
<polyline fill="none" stroke="#000000" points="0,-894.5 412.1216,-894.5 "/>
<text text-anchor="start" x="8" y="-877.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="8" y="-861.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;cloneableProxyHash: bytes32</text>
<text text-anchor="start" x="8" y="-844.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;beacon: address</text>
<polyline fill="none" stroke="#000000" points="0,-836.1 412.1216,-836.1 "/>
<text text-anchor="start" x="8" y="-819.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="8" y="-802.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;initialize(_beacon: address)</text>
<text text-anchor="start" x="8" y="-785.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;createProxy(userSalt: bytes32): address</text>
<text text-anchor="start" x="8" y="-769.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="8" y="-752.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getSalt(user: address, userSalt: bytes32): bytes32</text>
<text text-anchor="start" x="8" y="-735.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;calculateExpectedAddress(user: address, userSalt: bytes32): address</text>
<text text-anchor="start" x="8" y="-718.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;calculateExpectedAddress(salt: bytes32): address</text>
</g>
<!-- 4&#45;&gt;18 -->
<g id="edge9" class="edge">
<title>4&#45;&gt;18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M489.7922,-564.3268C439.0095,-609.1747 381.7309,-659.7595 332.0032,-703.6758"/>
<polygon fill="#000000" stroke="#000000" points="329.5852,-701.1417 324.4066,-710.3847 334.2189,-706.3885 329.5852,-701.1417"/>
</g>
<!-- 5 -->
<g id="node6" class="node">
<title>5</title>
<polygon fill="#f2f2f2" stroke="#000000" points="3874.6165,-718.9 3874.6165,-910.9 4487.5051,-910.9 4487.5051,-718.9 3874.6165,-718.9"/>
<text text-anchor="middle" x="4181.0608" y="-894.3" font-family="Times,serif" font-size="14.00" fill="#000000">L2GatewayRouter</text>
<polyline fill="none" stroke="#000000" points="3874.6165,-886.1 4487.5051,-886.1 "/>
<text text-anchor="middle" x="4181.0608" y="-869.5" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="3874.6165,-861.3 4487.5051,-861.3 "/>
<text text-anchor="start" x="3882.6165" y="-844.7" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="3882.6165" y="-827.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isSenderCounterpartGateway(): bool</text>
<text text-anchor="start" x="3882.6165" y="-811.1" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="3882.6165" y="-794.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setGateway(_l1Token: address[], _gateway: address[])</text>
<text text-anchor="start" x="3882.6165" y="-777.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setDefaultGateway(newL2DefaultGateway: address)</text>
<text text-anchor="start" x="3882.6165" y="-760.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="3882.6165" y="-743.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;payable&gt;&gt; outboundTransfer(_l1Token: address, _to: address, _amount: uint256, _data: bytes): bytes</text>
<text text-anchor="start" x="3882.6165" y="-727.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;initialize(_counterpartGateway: address, _defaultGateway: address)</text>
</g>
<!-- 27 -->
<g id="node28" class="node">
<title>27</title>
<polygon fill="#f2f2f2" stroke="#000000" points="3761.4608,-1040.3 3761.4608,-1417.1 4600.6608,-1417.1 4600.6608,-1040.3 3761.4608,-1040.3"/>
<text text-anchor="middle" x="4181.0608" y="-1400.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="4181.0608" y="-1383.7" font-family="Times,serif" font-size="14.00" fill="#000000">GatewayRouter</text>
<polyline fill="none" stroke="#000000" points="3761.4608,-1375.5 4600.6608,-1375.5 "/>
<text text-anchor="start" x="3769.4608" y="-1358.9" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="3769.4608" y="-1342.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;ZERO_ADDR: address</text>
<text text-anchor="start" x="3769.4608" y="-1325.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;BLACKLISTED: address</text>
<text text-anchor="start" x="3769.4608" y="-1308.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="3769.4608" y="-1291.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;l1TokenToGateway: mapping(address=&gt;address)</text>
<text text-anchor="start" x="3769.4608" y="-1274.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;defaultGateway: address</text>
<polyline fill="none" stroke="#000000" points="3761.4608,-1266.7 4600.6608,-1266.7 "/>
<text text-anchor="start" x="3769.4608" y="-1250.1" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="3769.4608" y="-1233.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_initialize(_counterpartGateway: address, _defaultGateway: address)</text>
<text text-anchor="start" x="3769.4608" y="-1216.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isSenderRouter(): bool</text>
<text text-anchor="start" x="3769.4608" y="-1199.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_calculateL2TokenAddress(l1ERC20: address): address</text>
<text text-anchor="start" x="3769.4608" y="-1182.9" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="3769.4608" y="-1166.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;payable&gt;&gt; finalizeInboundTransfer(_token: address, _from: address, _to: address, _amount: uint256, _data: bytes): bytes</text>
<text text-anchor="start" x="3769.4608" y="-1149.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="3769.4608" y="-1132.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;payable&gt;&gt; outboundTransfer(_token: address, _to: address, _amount: uint256, _maxGas: uint256, _gasPriceBid: uint256, _data: bytes): bytes</text>
<text text-anchor="start" x="3769.4608" y="-1115.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; TransferRouted(token: address, _userFrom: address, _userTo: address, gateway: address)</text>
<text text-anchor="start" x="3769.4608" y="-1098.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; GatewaySet(l1Token: address, gateway: address)</text>
<text text-anchor="start" x="3769.4608" y="-1082.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; DefaultGatewayUpdated(newDefaultGateway: address)</text>
<text text-anchor="start" x="3769.4608" y="-1065.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getOutboundCalldata(_token: address, _from: address, _to: address, _amount: uint256, _data: bytes): bytes</text>
<text text-anchor="start" x="3769.4608" y="-1048.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getGateway(_token: address): (gateway: address)</text>
</g>
<!-- 5&#45;&gt;27 -->
<g id="edge11" class="edge">
<title>5&#45;&gt;27</title>
<path fill="none" stroke="#000000" d="M4181.0608,-911.1347C4181.0608,-941.0367 4181.0608,-975.3085 4181.0608,-1010.0238"/>
<polygon fill="none" stroke="#000000" points="4170.5609,-1010.2082 4181.0608,-1040.2083 4191.5609,-1010.2083 4170.5609,-1010.2082"/>
</g>
<!-- 6 -->
<g id="node7" class="node">
<title>6</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2024.6132,-305.1 2024.6132,-581.1 2925.5084,-581.1 2925.5084,-305.1 2024.6132,-305.1"/>
<text text-anchor="middle" x="2475.0608" y="-564.5" font-family="Times,serif" font-size="14.00" fill="#000000">L2WethGateway</text>
<polyline fill="none" stroke="#000000" points="2024.6132,-556.3 2925.5084,-556.3 "/>
<text text-anchor="start" x="2032.6132" y="-539.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="2032.6132" y="-522.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;l1Weth: address</text>
<text text-anchor="start" x="2032.6132" y="-506.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;l2Weth: address</text>
<polyline fill="none" stroke="#000000" points="2024.6132,-497.9 2925.5084,-497.9 "/>
<text text-anchor="start" x="2032.6132" y="-481.3" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="2032.6132" y="-464.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;handleNoContract(l1ERC20: address, expectedL2Address: address, _from: address, _to: address, _amount: uint256, deployData: bytes): (shouldHalt: bool)</text>
<text text-anchor="start" x="2032.6132" y="-447.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_calculateL2TokenAddress(l1ERC20: address): address</text>
<text text-anchor="start" x="2032.6132" y="-430.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;outboundEscrowTransfer(_l2TokenAddress: address, _from: address, _amount: uint256)</text>
<text text-anchor="start" x="2032.6132" y="-414.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;inboundEscrowTransfer(_l2TokenAddress: address, _dest: address, _amount: uint256)</text>
<text text-anchor="start" x="2032.6132" y="-397.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;createOutboundTx(_l1Token: address, _from: address, _to: address, _amount: uint256, _extraData: bytes): uint256</text>
<text text-anchor="start" x="2032.6132" y="-380.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="2032.6132" y="-363.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;payable&gt;&gt; null()</text>
<text text-anchor="start" x="2032.6132" y="-346.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="2032.6132" y="-330.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;initialize(_l1Counterpart: address, _router: address, _l1Weth: address, _l2Weth: address)</text>
<text text-anchor="start" x="2032.6132" y="-313.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;gasReserveIfCallRevert(): uint256</text>
</g>
<!-- 6&#45;&gt;2 -->
<g id="edge12" class="edge">
<title>6&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M2131.9822,-581.1483C2104.3039,-592.2855 2076.0145,-603.6686 2047.5495,-615.1224"/>
<polygon fill="none" stroke="#000000" points="2043.5453,-605.4154 2019.6335,-626.3553 2051.3846,-624.8974 2043.5453,-605.4154"/>
</g>
<!-- 22 -->
<g id="node23" class="node">
<title>22</title>
<polygon fill="#f2f2f2" stroke="#000000" points="3224.6316,-752.5 3224.6316,-877.3 3419.49,-877.3 3419.49,-752.5 3224.6316,-752.5"/>
<text text-anchor="middle" x="3322.0608" y="-860.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="3322.0608" y="-843.9" font-family="Times,serif" font-size="14.00" fill="#000000">IWETH9</text>
<polyline fill="none" stroke="#000000" points="3224.6316,-835.7 3419.49,-835.7 "/>
<text text-anchor="middle" x="3322.0608" y="-819.1" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="3224.6316,-810.9 3419.49,-810.9 "/>
<text text-anchor="start" x="3232.6316" y="-794.3" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="3232.6316" y="-777.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;deposit()</text>
<text text-anchor="start" x="3232.6316" y="-760.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;withdraw(_amount: uint256)</text>
</g>
<!-- 6&#45;&gt;22 -->
<g id="edge13" class="edge">
<title>6&#45;&gt;22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2897.2438,-581.1457C2909.9538,-584.2665 2922.58,-587.2288 2935.0608,-590 3057.5467,-617.1962 3110.9187,-556.0226 3215.0608,-626 3255.8389,-653.4005 3282.8311,-701.8706 3299.5044,-742.8509"/>
<polygon fill="#000000" stroke="#000000" points="3296.2952,-744.254 3303.2144,-752.2775 3302.8089,-741.6904 3296.2952,-744.254"/>
</g>
<!-- 7 -->
<g id="node8" class="node">
<title>7</title>
<polygon fill="#f2f2f2" stroke="#000000" points="4807.6403,-59.3 4807.6403,-200.9 5546.4813,-200.9 5546.4813,-59.3 4807.6403,-59.3"/>
<text text-anchor="middle" x="5177.0608" y="-184.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="5177.0608" y="-167.5" font-family="Times,serif" font-size="14.00" fill="#000000">ICustomToken</text>
<polyline fill="none" stroke="#000000" points="4807.6403,-159.3 5546.4813,-159.3 "/>
<text text-anchor="middle" x="5177.0608" y="-142.7" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="4807.6403,-134.5 5546.4813,-134.5 "/>
<text text-anchor="start" x="4815.6403" y="-117.9" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="4815.6403" y="-101.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;registerTokenOnL2(l2CustomTokenAddress: address, maxSubmissionCost: uint256, maxGas: uint256, gasPriceBid: uint256)</text>
<text text-anchor="start" x="4815.6403" y="-84.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;transferFrom(sender: address, recipient: address, amount: uint256): bool</text>
<text text-anchor="start" x="4815.6403" y="-67.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;balanceOf(account: address): uint256</text>
</g>
<!-- 8 -->
<g id="node9" class="node">
<title>8</title>
<polygon fill="#f2f2f2" stroke="#000000" points="3437.4741,-760.9 3437.4741,-868.9 3856.6475,-868.9 3856.6475,-760.9 3437.4741,-760.9"/>
<text text-anchor="middle" x="3647.0608" y="-852.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="3647.0608" y="-835.5" font-family="Times,serif" font-size="14.00" fill="#000000">ITradeableExitReceiver</text>
<polyline fill="none" stroke="#000000" points="3437.4741,-827.3 3856.6475,-827.3 "/>
<text text-anchor="middle" x="3647.0608" y="-810.7" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="3437.4741,-802.5 3856.6475,-802.5 "/>
<text text-anchor="start" x="3445.4741" y="-785.9" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="3445.4741" y="-769.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;onExitTransfer(sender: address, exitNum: uint256, data: bytes): bool</text>
</g>
<!-- 9 -->
<g id="node10" class="node">
<title>9</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2943.5821,-305.1 2943.5821,-581.1 3622.5395,-581.1 3622.5395,-305.1 2943.5821,-305.1"/>
<text text-anchor="middle" x="3283.0608" y="-564.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="3283.0608" y="-547.7" font-family="Times,serif" font-size="14.00" fill="#000000">L1ArbitrumExtendedGateway</text>
<polyline fill="none" stroke="#000000" points="2943.5821,-539.5 3622.5395,-539.5 "/>
<text text-anchor="start" x="2951.5821" y="-522.9" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="2951.5821" y="-506.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;USED_ADDRESS: address</text>
<text text-anchor="start" x="2951.5821" y="-489.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="2951.5821" y="-472.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;redirectedExits: mapping(bytes32=&gt;address)</text>
<polyline fill="none" stroke="#000000" points="2943.5821,-464.3 3622.5395,-464.3 "/>
<text text-anchor="start" x="2951.5821" y="-447.7" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="2951.5821" y="-430.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_initialize(_l2Counterpart: address, _router: address, _inbox: address)</text>
<text text-anchor="start" x="2951.5821" y="-414.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;updateDestination(_exitNum: uint256, _initialDestination: address, _newDestination: address)</text>
<text text-anchor="start" x="2951.5821" y="-397.3" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="2951.5821" y="-380.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;transferExitAndCall(_exitNum: uint256, _initialDestination: address, _newDestination: address, _data: bytes)</text>
<text text-anchor="start" x="2951.5821" y="-363.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="2951.5821" y="-346.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; WithdrawRedirected(from: address, to: address, exitNum: uint256, data: bytes, madeExternalCall: bool)</text>
<text text-anchor="start" x="2951.5821" y="-330.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getCurrentDestination(_exitNum: uint256, _initialDestination: address): address</text>
<text text-anchor="start" x="2951.5821" y="-313.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;encodeWithdrawal(_exitNum: uint256, _initialDestination: address): bytes32</text>
</g>
<!-- 9&#45;&gt;8 -->
<g id="edge15" class="edge">
<title>9&#45;&gt;8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3418.3423,-581.2804C3476.3137,-640.4941 3541.068,-706.6359 3586.837,-753.3857"/>
<polygon fill="#000000" stroke="#000000" points="3584.519,-756.0211 3594.0157,-760.7182 3589.5209,-751.1241 3584.519,-756.0211"/>
</g>
<!-- 10 -->
<g id="node11" class="node">
<title>10</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2111.5645,-626.5 2111.5645,-1003.3 3206.5571,-1003.3 3206.5571,-626.5 2111.5645,-626.5"/>
<text text-anchor="middle" x="2659.0608" y="-986.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="2659.0608" y="-969.9" font-family="Times,serif" font-size="14.00" fill="#000000">L1ArbitrumGateway</text>
<polyline fill="none" stroke="#000000" points="2111.5645,-961.7 3206.5571,-961.7 "/>
<text text-anchor="start" x="2119.5645" y="-945.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="2119.5645" y="-928.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;inbox: address</text>
<polyline fill="none" stroke="#000000" points="2111.5645,-920.1 3206.5571,-920.1 "/>
<text text-anchor="start" x="2119.5645" y="-903.5" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="2119.5645" y="-886.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isSenderCounterpartGateway(): bool</text>
<text text-anchor="start" x="2119.5645" y="-869.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_initialize(_l2Counterpart: address, _router: address, _inbox: address)</text>
<text text-anchor="start" x="2119.5645" y="-853.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;inboundEscrowTransfer(_l1Token: address, _dest: address, _amount: uint256)</text>
<text text-anchor="start" x="2119.5645" y="-836.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;createOutboundTx(_l1Token: address, _from: address, _to: address, _amount: uint256, _maxGas: uint256, _gasPriceBid: uint256, _maxSubmissionCost: uint256, _extraData: bytes): uint256</text>
<text text-anchor="start" x="2119.5645" y="-819.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;sendTxToL2(_user: address, _l2CallValue: uint256, _maxSubmissionCost: uint256, _maxGas: uint256, _gasPriceBid: uint256, _data: bytes): uint256</text>
<text text-anchor="start" x="2119.5645" y="-802.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;outboundEscrowTransfer(_l1Token: address, _from: address, _amount: uint256)</text>
<text text-anchor="start" x="2119.5645" y="-785.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;parseOutboundData(_data: bytes): (_from: address, _maxSubmissionCost: uint256, _extraData: bytes)</text>
<text text-anchor="start" x="2119.5645" y="-769.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isSenderRouter(): bool</text>
<text text-anchor="start" x="2119.5645" y="-752.3" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="2119.5645" y="-735.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;payable&gt;&gt; finalizeInboundTransfer(_token: address, _from: address, _to: address, _amount: uint256, _data: bytes): bytes</text>
<text text-anchor="start" x="2119.5645" y="-718.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;payable&gt;&gt; outboundTransfer(_l1Token: address, _to: address, _amount: uint256, _maxGas: uint256, _gasPriceBid: uint256, _data: bytes): (res: bytes)</text>
<text text-anchor="start" x="2119.5645" y="-701.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="2119.5645" y="-685.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;gasReserveIfCallRevert(): uint256</text>
<text text-anchor="start" x="2119.5645" y="-668.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getCurrentDestination(_exitNum: uint256, _initialDestination: address): address</text>
<text text-anchor="start" x="2119.5645" y="-651.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;parseInboundData(_data: bytes): (_exitNum: uint256, _extraData: bytes)</text>
<text text-anchor="start" x="2119.5645" y="-634.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getOutboundCalldata(_l1Token: address, _from: address, _to: address, _amount: uint256, _data: bytes): (outboundCalldata: bytes)</text>
</g>
<!-- 9&#45;&gt;10 -->
<g id="edge14" class="edge">
<title>9&#45;&gt;10</title>
<path fill="none" stroke="#000000" d="M3051.1497,-581.2804C3034.7862,-591.0303 3018.1074,-600.9681 3001.3106,-610.9762"/>
<polygon fill="none" stroke="#000000" points="2995.7004,-602.0963 2975.303,-626.4724 3006.4496,-620.1367 2995.7004,-602.0963"/>
</g>
<!-- 10&#45;&gt;24 -->
<g id="edge17" class="edge">
<title>10&#45;&gt;24</title>
<path fill="none" stroke="#000000" d="M2476.9108,-1003.3342C2450.2481,-1030.9168 2423.1589,-1058.9405 2397.5589,-1085.4237"/>
<polygon fill="none" stroke="#000000" points="2389.7484,-1078.3961 2376.4473,-1107.2636 2404.8473,-1092.9915 2389.7484,-1078.3961"/>
</g>
<!-- 25 -->
<g id="node26" class="node">
<title>25</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2704.932,-1157.9 2704.932,-1299.5 3743.1896,-1299.5 3743.1896,-1157.9 2704.932,-1157.9"/>
<text text-anchor="middle" x="3224.0608" y="-1282.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="3224.0608" y="-1266.1" font-family="Times,serif" font-size="14.00" fill="#000000">L1ArbitrumMessenger</text>
<polyline fill="none" stroke="#000000" points="2704.932,-1257.9 3743.1896,-1257.9 "/>
<text text-anchor="middle" x="3224.0608" y="-1241.3" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="2704.932,-1233.1 3743.1896,-1233.1 "/>
<text text-anchor="start" x="2712.932" y="-1216.5" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="2712.932" y="-1199.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;sendTxToL2(_inbox: address, _to: address, _user: address, _l2CallValue: uint256, _maxSubmissionCost: uint256, _maxGas: uint256, _gasPriceBid: uint256, _data: bytes): uint256</text>
<text text-anchor="start" x="2712.932" y="-1182.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="2712.932" y="-1166.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; TxToL2(_from: address, _to: address, _seqNum: uint256, _data: bytes)</text>
</g>
<!-- 10&#45;&gt;25 -->
<g id="edge16" class="edge">
<title>10&#45;&gt;25</title>
<path fill="none" stroke="#000000" d="M2916.3477,-1003.3342C2981.3899,-1050.9704 3048.2288,-1099.9225 3102.9255,-1139.9818"/>
<polygon fill="none" stroke="#000000" points="3096.7447,-1148.4699 3127.1519,-1157.7249 3109.1529,-1131.5278 3096.7447,-1148.4699"/>
</g>
<!-- 11 -->
<g id="node12" class="node">
<title>11</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2145.2462,-25.7 2145.2462,-234.5 2870.8754,-234.5 2870.8754,-25.7 2145.2462,-25.7"/>
<text text-anchor="middle" x="2508.0608" y="-217.9" font-family="Times,serif" font-size="14.00" fill="#000000">L1CustomGateway</text>
<polyline fill="none" stroke="#000000" points="2145.2462,-209.7 2870.8754,-209.7 "/>
<text text-anchor="start" x="2153.2462" y="-193.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="2153.2462" y="-176.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;l1ToL2Token: mapping(address=&gt;address)</text>
<polyline fill="none" stroke="#000000" points="2145.2462,-168.1 2870.8754,-168.1 "/>
<text text-anchor="start" x="2153.2462" y="-151.5" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="2153.2462" y="-134.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_calculateL2TokenAddress(l1ERC20: address): address</text>
<text text-anchor="start" x="2153.2462" y="-117.9" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="2153.2462" y="-101.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;calculateL2TokenAddress(l1ERC20: address): address</text>
<text text-anchor="start" x="2153.2462" y="-84.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;registerTokenToL2(l2Address: address, _maxGas: uint256, _gasPriceBid: uint256, _maxSubmissionCost: uint256): uint256</text>
<text text-anchor="start" x="2153.2462" y="-67.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="2153.2462" y="-50.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; TokenSet(l1Address: address, l2Address: address)</text>
<text text-anchor="start" x="2153.2462" y="-33.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;initialize(_l1Counterpart: address, _l1Router: address, _inbox: address)</text>
</g>
<!-- 11&#45;&gt;3 -->
<g id="edge19" class="edge">
<title>11&#45;&gt;3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2188.7286,-234.542C2089.4705,-267.0057 1979.9001,-302.8422 1879.9995,-335.5161"/>
<polygon fill="#000000" stroke="#000000" points="1878.779,-332.2327 1870.3625,-338.668 1880.9551,-338.8859 1878.779,-332.2327"/>
</g>
<!-- 11&#45;&gt;9 -->
<g id="edge18" class="edge">
<title>11&#45;&gt;9</title>
<path fill="none" stroke="#000000" d="M2779.2037,-234.5727C2823.7813,-252.054 2869.7673,-270.2685 2927.7449,-293.6861"/>
<polygon fill="none" stroke="#000000" points="2924.0009,-303.4982 2955.7487,-305.024 2931.8818,-284.033 2924.0009,-303.4982"/>
</g>
<!-- 12 -->
<g id="node13" class="node">
<title>12</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2889.1963,-.5 2889.1963,-259.7 3676.9253,-259.7 3676.9253,-.5 2889.1963,-.5"/>
<text text-anchor="middle" x="3283.0608" y="-243.1" font-family="Times,serif" font-size="14.00" fill="#000000">L1ERC20Gateway</text>
<polyline fill="none" stroke="#000000" points="2889.1963,-234.9 3676.9253,-234.9 "/>
<text text-anchor="start" x="2897.1963" y="-218.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="2897.1963" y="-201.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;cloneableProxyHash: bytes32</text>
<text text-anchor="start" x="2897.1963" y="-184.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;l2BeaconProxyFactory: address</text>
<polyline fill="none" stroke="#000000" points="2889.1963,-176.5 3676.9253,-176.5 "/>
<text text-anchor="start" x="2897.1963" y="-159.9" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="2897.1963" y="-143.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;callStatic(targetContract: address, targetFunction: bytes4): bytes</text>
<text text-anchor="start" x="2897.1963" y="-126.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_calculateL2TokenAddress(l1ERC20: address): address</text>
<text text-anchor="start" x="2897.1963" y="-109.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getSalt(l1ERC20: address): bytes32</text>
<text text-anchor="start" x="2897.1963" y="-92.7" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="2897.1963" y="-75.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;postUpgradeInit(_cloneableProxyHash: bytes32, _l2BeaconProxyFactory: address)</text>
<text text-anchor="start" x="2897.1963" y="-59.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;calculateL2TokenAddress(l1ERC20: address): address</text>
<text text-anchor="start" x="2897.1963" y="-42.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="2897.1963" y="-25.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;initialize(_l2Counterpart: address, _router: address, _inbox: address, _cloneableProxyHash: bytes32, _l2BeaconProxyFactory: address)</text>
<text text-anchor="start" x="2897.1963" y="-8.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getOutboundCalldata(_token: address, _from: address, _to: address, _amount: uint256, _data: bytes): (outboundCalldata: bytes)</text>
</g>
<!-- 12&#45;&gt;9 -->
<g id="edge20" class="edge">
<title>12&#45;&gt;9</title>
<path fill="none" stroke="#000000" d="M3283.0608,-260.121C3283.0608,-264.9709 3283.0608,-269.8557 3283.0608,-274.7561"/>
<polygon fill="none" stroke="#000000" points="3272.5609,-274.8883 3283.0608,-304.8883 3293.5609,-274.8883 3272.5609,-274.8883"/>
</g>
<!-- 13 -->
<g id="node14" class="node">
<title>13</title>
<polygon fill="#f2f2f2" stroke="#000000" points="4076.8079,-296.7 4076.8079,-589.5 4953.3137,-589.5 4953.3137,-296.7 4076.8079,-296.7"/>
<text text-anchor="middle" x="4515.0608" y="-572.9" font-family="Times,serif" font-size="14.00" fill="#000000">L1GatewayRouter</text>
<polyline fill="none" stroke="#000000" points="4076.8079,-564.7 4953.3137,-564.7 "/>
<text text-anchor="start" x="4084.8079" y="-548.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="4084.8079" y="-531.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;owner: address</text>
<text text-anchor="start" x="4084.8079" y="-514.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;inbox: address</text>
<polyline fill="none" stroke="#000000" points="4076.8079,-506.3 4953.3137,-506.3 "/>
<text text-anchor="start" x="4084.8079" y="-489.7" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="4084.8079" y="-472.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_setGateways(_token: address[], _gateway: address[], _maxGas: uint256, _gasPriceBid: uint256, _maxSubmissionCost: uint256): uint256</text>
<text text-anchor="start" x="4084.8079" y="-456.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isSenderCounterpartGateway(): bool</text>
<text text-anchor="start" x="4084.8079" y="-439.3" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="4084.8079" y="-422.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;payable&gt;&gt; setDefaultGateway(newL1DefaultGateway: address, _maxGas: uint256, _gasPriceBid: uint256, _maxSubmissionCost: uint256): uint256</text>
<text text-anchor="start" x="4084.8079" y="-405.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;payable&gt;&gt; setGateway(_gateway: address, _maxGas: uint256, _gasPriceBid: uint256, _maxSubmissionCost: uint256): uint256</text>
<text text-anchor="start" x="4084.8079" y="-388.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;payable&gt;&gt; setGateways(_token: address[], _gateway: address[], _maxGas: uint256, _gasPriceBid: uint256, _maxSubmissionCost: uint256): uint256</text>
<text text-anchor="start" x="4084.8079" y="-372.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setOwner(newOwner: address)</text>
<text text-anchor="start" x="4084.8079" y="-355.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="4084.8079" y="-338.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;payable&gt;&gt; outboundTransfer(_token: address, _to: address, _amount: uint256, _maxGas: uint256, _gasPriceBid: uint256, _data: bytes): bytes</text>
<text text-anchor="start" x="4084.8079" y="-321.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyOwner()</text>
<text text-anchor="start" x="4084.8079" y="-304.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;initialize(_owner: address, _defaultGateway: address, _whitelist: address, _counterpartGateway: address, _inbox: address)</text>
</g>
<!-- 13&#45;&gt;5 -->
<g id="edge22" class="edge">
<title>13&#45;&gt;5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4383.5346,-589.5115C4346.996,-630.1853 4308.0821,-673.5032 4274.2342,-711.1818"/>
<polygon fill="#000000" stroke="#000000" points="4271.6135,-708.8618 4267.5344,-718.6399 4276.8209,-713.5398 4271.6135,-708.8618"/>
</g>
<!-- 13&#45;&gt;27 -->
<g id="edge21" class="edge">
<title>13&#45;&gt;27</title>
<path fill="none" stroke="#000000" d="M4544.0294,-589.5489C4559.8784,-708.3653 4564.3691,-876.446 4496.0608,-1003.8 4494.0571,-1007.5357 4491.9609,-1011.2238 4489.7779,-1014.8645"/>
<polygon fill="none" stroke="#000000" points="4480.9414,-1009.1883 4472.884,-1039.9345 4498.3563,-1020.9237 4480.9414,-1009.1883"/>
</g>
<!-- 14 -->
<g id="node15" class="node">
<title>14</title>
<polygon fill="#f2f2f2" stroke="#000000" points="3694.5645,-.5 3694.5645,-259.7 4789.5571,-259.7 4789.5571,-.5 3694.5645,-.5"/>
<text text-anchor="middle" x="4242.0608" y="-243.1" font-family="Times,serif" font-size="14.00" fill="#000000">L1WethGateway</text>
<polyline fill="none" stroke="#000000" points="3694.5645,-234.9 4789.5571,-234.9 "/>
<text text-anchor="start" x="3702.5645" y="-218.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="3702.5645" y="-201.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;l1Weth: address</text>
<text text-anchor="start" x="3702.5645" y="-184.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;l2Weth: address</text>
<polyline fill="none" stroke="#000000" points="3694.5645,-176.5 4789.5571,-176.5 "/>
<text text-anchor="start" x="3702.5645" y="-159.9" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="3702.5645" y="-143.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;createOutboundTx(_l1Token: address, _from: address, _to: address, _amount: uint256, _maxGas: uint256, _gasPriceBid: uint256, _maxSubmissionCost: uint256, _extraData: bytes): uint256</text>
<text text-anchor="start" x="3702.5645" y="-126.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;outboundEscrowTransfer(_l1Token: address, _from: address, _amount: uint256)</text>
<text text-anchor="start" x="3702.5645" y="-109.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;inboundEscrowTransfer(_l1Token: address, _dest: address, _amount: uint256)</text>
<text text-anchor="start" x="3702.5645" y="-92.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_calculateL2TokenAddress(l1ERC20: address): address</text>
<text text-anchor="start" x="3702.5645" y="-75.9" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="3702.5645" y="-59.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;payable&gt;&gt; null()</text>
<text text-anchor="start" x="3702.5645" y="-42.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;calculateL2TokenAddress(l1ERC20: address): address</text>
<text text-anchor="start" x="3702.5645" y="-25.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="3702.5645" y="-8.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;initialize(_l1Counterpart: address, _l1Router: address, _inbox: address, _l1Weth: address, _l2Weth: address)</text>
</g>
<!-- 14&#45;&gt;9 -->
<g id="edge23" class="edge">
<title>14&#45;&gt;9</title>
<path fill="none" stroke="#000000" d="M3844.7297,-259.7816C3780.7391,-280.6669 3714.7361,-302.2091 3651.4641,-322.8599"/>
<polygon fill="none" stroke="#000000" points="3647.864,-312.9898 3622.6025,-332.2798 3654.3798,-332.9534 3647.864,-312.9898"/>
</g>
<!-- 14&#45;&gt;22 -->
<g id="edge24" class="edge">
<title>14&#45;&gt;22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4087.4068,-259.7254C3940.4386,-380.4163 3727.9236,-547.8577 3631.0608,-590 3547.0386,-626.5557 3502.7706,-572.9481 3428.0608,-626 3388.2368,-654.2792 3361.5373,-702.4878 3344.8957,-743.1239"/>
<polygon fill="#000000" stroke="#000000" points="3341.6227,-741.8831 3341.1885,-752.469 3348.1294,-744.4644 3341.6227,-741.8831"/>
</g>
<!-- 16 -->
<g id="node17" class="node">
<title>16</title>
<polygon fill="#f2f2f2" stroke="#000000" points="140.1435,-1174.7 140.1435,-1282.7 271.9781,-1282.7 271.9781,-1174.7 140.1435,-1174.7"/>
<text text-anchor="middle" x="206.0608" y="-1266.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="206.0608" y="-1249.3" font-family="Times,serif" font-size="14.00" fill="#000000">ProxySetter</text>
<polyline fill="none" stroke="#000000" points="140.1435,-1241.1 271.9781,-1241.1 "/>
<text text-anchor="middle" x="206.0608" y="-1224.5" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="140.1435,-1216.3 271.9781,-1216.3 "/>
<text text-anchor="start" x="148.1435" y="-1199.7" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="148.1435" y="-1182.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;beacon(): address</text>
</g>
<!-- 17 -->
<g id="node18" class="node">
<title>17</title>
<polygon fill="#f2f2f2" stroke="#000000" points="5564.0755,-84.5 5564.0755,-175.7 5706.0461,-175.7 5706.0461,-84.5 5564.0755,-84.5"/>
<text text-anchor="middle" x="5635.0608" y="-159.1" font-family="Times,serif" font-size="14.00" fill="#000000">ClonableBeaconProxy</text>
<polyline fill="none" stroke="#000000" points="5564.0755,-150.9 5706.0461,-150.9 "/>
<text text-anchor="middle" x="5635.0608" y="-134.3" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="5564.0755,-126.1 5706.0461,-126.1 "/>
<text text-anchor="start" x="5572.0755" y="-109.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="5572.0755" y="-92.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
</g>
<!-- 18&#45;&gt;16 -->
<g id="edge25" class="edge">
<title>18&#45;&gt;16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M206.0608,-919.3192C206.0608,-989.0141 206.0608,-1079.4648 206.0608,-1144.5418"/>
<polygon fill="none" stroke="#000000" points="195.5609,-1144.6891 206.0608,-1174.6892 216.5609,-1144.6892 195.5609,-1144.6891"/>
</g>
<!-- 19 -->
<g id="node20" class="node">
<title>19</title>
<polygon fill="#f2f2f2" stroke="#000000" points="556.8163,-1538.1 556.8163,-1696.5 1013.3053,-1696.5 1013.3053,-1538.1 556.8163,-1538.1"/>
<text text-anchor="middle" x="785.0608" y="-1679.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="785.0608" y="-1663.1" font-family="Times,serif" font-size="14.00" fill="#000000">ERC677Token</text>
<polyline fill="none" stroke="#000000" points="556.8163,-1654.9 1013.3053,-1654.9 "/>
<text text-anchor="middle" x="785.0608" y="-1638.3" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="556.8163,-1630.1 1013.3053,-1630.1 "/>
<text text-anchor="start" x="564.8163" y="-1613.5" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="564.8163" y="-1596.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;contractFallback(_to: address, _value: uint256, _data: bytes)</text>
<text text-anchor="start" x="564.8163" y="-1579.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isContract(_addr: address): (hasCode: bool)</text>
<text text-anchor="start" x="564.8163" y="-1563.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="564.8163" y="-1546.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;transferAndCall(_to: address, _value: uint256, _data: bytes): (success: bool)</text>
</g>
<!-- 20 -->
<g id="node21" class="node">
<title>20</title>
<polygon fill="#f2f2f2" stroke="#000000" points="559.7003,-1842.7 559.7003,-1984.3 1010.4213,-1984.3 1010.4213,-1842.7 559.7003,-1842.7"/>
<text text-anchor="middle" x="785.0608" y="-1967.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="785.0608" y="-1950.9" font-family="Times,serif" font-size="14.00" fill="#000000">IERC677</text>
<polyline fill="none" stroke="#000000" points="559.7003,-1942.7 1010.4213,-1942.7 "/>
<text text-anchor="middle" x="785.0608" y="-1926.1" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="559.7003,-1917.9 1010.4213,-1917.9 "/>
<text text-anchor="start" x="567.7003" y="-1901.3" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="567.7003" y="-1884.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;transferAndCall(to: address, value: uint256, data: bytes): (success: bool)</text>
<text text-anchor="start" x="567.7003" y="-1867.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="567.7003" y="-1850.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; Transfer(from: address, to: address, value: uint256, data: bytes)</text>
</g>
<!-- 19&#45;&gt;20 -->
<g id="edge26" class="edge">
<title>19&#45;&gt;20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M785.0608,-1696.6762C785.0608,-1732.2424 785.0608,-1774.6031 785.0608,-1812.4053"/>
<polygon fill="none" stroke="#000000" points="774.5609,-1812.5085 785.0608,-1842.5086 795.5609,-1812.5086 774.5609,-1812.5085"/>
</g>
<!-- 21 -->
<g id="node22" class="node">
<title>21</title>
<polygon fill="#f2f2f2" stroke="#000000" points="140.2346,-1859.5 140.2346,-1967.5 541.887,-1967.5 541.887,-1859.5 140.2346,-1859.5"/>
<text text-anchor="middle" x="341.0608" y="-1950.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="341.0608" y="-1934.1" font-family="Times,serif" font-size="14.00" fill="#000000">IERC677Receiver</text>
<polyline fill="none" stroke="#000000" points="140.2346,-1925.9 541.887,-1925.9 "/>
<text text-anchor="middle" x="341.0608" y="-1909.3" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="140.2346,-1901.1 541.887,-1901.1 "/>
<text text-anchor="start" x="148.2346" y="-1884.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="148.2346" y="-1867.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;onTokenTransfer(_sender: address, _value: uint256, _data: bytes)</text>
</g>
<!-- 19&#45;&gt;21 -->
<g id="edge27" class="edge">
<title>19&#45;&gt;21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M666.0769,-1696.6762C592.0531,-1746.0588 498.3946,-1808.5399 430.6539,-1853.7309"/>
<polygon fill="#000000" stroke="#000000" points="428.4843,-1850.9709 422.1079,-1859.4321 432.3691,-1856.794 428.4843,-1850.9709"/>
</g>
<!-- 23&#45;&gt;19 -->
<g id="edge28" class="edge">
<title>23&#45;&gt;19</title>
<path fill="none" stroke="#000000" d="M785.0608,-1274.4201C785.0608,-1331.3517 785.0608,-1430.4978 785.0608,-1507.5786"/>
<polygon fill="none" stroke="#000000" points="774.5609,-1507.7494 785.0608,-1537.7494 795.5609,-1507.7495 774.5609,-1507.7494"/>
</g>
<!-- 29 -->
<g id="node30" class="node">
<title>29</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2800.4629,-1454.1 2800.4629,-1780.5 3639.6587,-1780.5 3639.6587,-1454.1 2800.4629,-1454.1"/>
<text text-anchor="middle" x="3220.0608" y="-1763.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="3220.0608" y="-1747.1" font-family="Times,serif" font-size="14.00" fill="#000000">TokenGateway</text>
<polyline fill="none" stroke="#000000" points="2800.4629,-1738.9 3639.6587,-1738.9 "/>
<text text-anchor="start" x="2808.4629" y="-1722.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="2808.4629" y="-1705.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;counterpartGateway: address</text>
<text text-anchor="start" x="2808.4629" y="-1688.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;router: address</text>
<polyline fill="none" stroke="#000000" points="2800.4629,-1680.5 3639.6587,-1680.5 "/>
<text text-anchor="start" x="2808.4629" y="-1663.9" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="2808.4629" y="-1647.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;abstract&gt;&gt; _calculateL2TokenAddress(l1ERC20: address): address</text>
<text text-anchor="start" x="2808.4629" y="-1630.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;abstract&gt;&gt; isSenderRouter(): bool</text>
<text text-anchor="start" x="2808.4629" y="-1613.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;abstract&gt;&gt; isSenderCounterpartGateway(): bool</text>
<text text-anchor="start" x="2808.4629" y="-1596.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_initialize(_counterpartGateway: address, _router: address)</text>
<text text-anchor="start" x="2808.4629" y="-1579.9" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="2808.4629" y="-1563.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;abstract&gt;&gt; outboundTransfer(_token: address, _to: address, _amount: uint256, _maxGas: uint256, _gasPriceBid: uint256, _data: bytes): bytes</text>
<text text-anchor="start" x="2808.4629" y="-1546.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;abstract&gt;&gt; finalizeInboundTransfer(_token: address, _from: address, _to: address, _amount: uint256, _data: bytes): bytes</text>
<text text-anchor="start" x="2808.4629" y="-1529.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;calculateL2TokenAddress(l1ERC20: address): address</text>
<text text-anchor="start" x="2808.4629" y="-1512.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="2808.4629" y="-1495.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;abstract&gt;&gt; getOutboundCalldata(_token: address, _from: address, _to: address, _amount: uint256, _data: bytes): bytes</text>
<text text-anchor="start" x="2808.4629" y="-1479.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyCounterpartGateway()</text>
<text text-anchor="start" x="2808.4629" y="-1462.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyRouter()</text>
</g>
<!-- 24&#45;&gt;29 -->
<g id="edge29" class="edge">
<title>24&#45;&gt;29</title>
<path fill="none" stroke="#000000" d="M2534.5306,-1349.9545C2587.9412,-1372.8465 2643.6107,-1396.2812 2696.0608,-1417.6 2720.8981,-1427.6953 2746.4556,-1437.9296 2772.2909,-1448.1562"/>
<polygon fill="none" stroke="#000000" points="2768.6525,-1458.0083 2800.4129,-1459.2431 2776.3547,-1438.4717 2768.6525,-1458.0083"/>
</g>
<!-- 27&#45;&gt;29 -->
<g id="edge30" class="edge">
<title>27&#45;&gt;29</title>
<path fill="none" stroke="#000000" d="M3761.4194,-1413.7757C3758.2895,-1415.0583 3755.1695,-1416.3332 3752.0608,-1417.6 3724.6822,-1428.7563 3696.4233,-1440.0373 3667.8654,-1451.2608"/>
<polygon fill="none" stroke="#000000" points="3663.9393,-1441.5217 3639.8241,-1462.2269 3671.5878,-1461.0793 3663.9393,-1441.5217"/>
</g>
<!-- 28 -->
<g id="node29" class="node">
<title>28</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2820.5109,-1817.5 2820.5109,-2009.5 3619.6107,-2009.5 3619.6107,-1817.5 2820.5109,-1817.5"/>
<text text-anchor="middle" x="3220.0608" y="-1992.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="3220.0608" y="-1976.1" font-family="Times,serif" font-size="14.00" fill="#000000">ITokenGateway</text>
<polyline fill="none" stroke="#000000" points="2820.5109,-1967.9 3619.6107,-1967.9 "/>
<text text-anchor="middle" x="3220.0608" y="-1951.3" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="2820.5109,-1943.1 3619.6107,-1943.1 "/>
<text text-anchor="start" x="2828.5109" y="-1926.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="2828.5109" y="-1909.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;outboundTransfer(_token: address, _to: address, _amount: uint256, _maxGas: uint256, _gasPriceBid: uint256, _data: bytes): bytes</text>
<text text-anchor="start" x="2828.5109" y="-1892.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;finalizeInboundTransfer(_token: address, _from: address, _to: address, _amount: uint256, _data: bytes): bytes</text>
<text text-anchor="start" x="2828.5109" y="-1876.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;calculateL2TokenAddress(l1ERC20: address): address</text>
<text text-anchor="start" x="2828.5109" y="-1859.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="2828.5109" y="-1842.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; OutboundTransferInitiated(token: address, _from: address, _to: address, _transferId: uint256, _amount: uint256, _data: bytes)</text>
<text text-anchor="start" x="2828.5109" y="-1825.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; InboundTransferFinalized(token: address, _from: address, _to: address, _transferId: uint256, _amount: uint256, _data: bytes)</text>
</g>
<!-- 29&#45;&gt;28 -->
<g id="edge31" class="edge">
<title>29&#45;&gt;28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3220.0608,-1780.5624C3220.0608,-1782.7061 3220.0608,-1784.8455 3220.0608,-1786.9788"/>
<polygon fill="none" stroke="#000000" points="3209.5609,-1787.186 3220.0608,-1817.186 3230.5609,-1787.1861 3209.5609,-1787.186"/>
</g>
</g>
</svg>
